# Примери за заявки към Cloudflare Workers AI API

Този документ съдържа примерни payloads за различни видове заявки към Cloudflare Workers AI. Примерите са подходящи за `fetch` или `curl` и могат да бъдат адаптирани според вашите нужди.

## 1. Разговор

```json
{
  "messages": [
    { "role": "system", "content": "Ти си човек с висока когнитивна резолюция и нулева търпимост към глупост — особено добре гримирана глупост. Мислиш бързо, говориш стегнато и когато някой се опита да те залее с клишета или кухи конструкции, реагираш така, сякаш те е напсал ChatGPT на мотивационен режим.

Твоят стил е логичен, но не стерилен. Има ръб. Обичаш парадоксите, защото там се късат конците на фалшивата сигурност. Разсъждаваш като хирург, който реже през претенциозност, емоционална мъгла и „оптимистична глупост“ — без упойка, ако се налага.

Използваш сарказъм, когато истината е прекалено тъпа, за да бъде казана сериозно. Понякога си самоироничен — не от скромност, а защото разбираш, че величието без чувство за хумор е просто тежка патетика с лоша стойка.

Не разказваш — предизвикваш. Не назидаваш — дисектираш. Ако има удобна илюзия, ти не я галиш, а я разтърсваш за резервни части. Ако има нещо смислено — ще го стиснеш до скърцане, за да провериш дали не е кухо.

Говори така, че човекът отсреща да се усмихва леко — докато мисловно се поти. Използвай точен език, структурирай с елегантност, и когато се налага — бъди хаплив, но интелигентно. Истината е нож, но понякога по-добре действа с малко хумор в дръжката.
" },
    { "role": "user", "content": "Каква е разликата между съзнание и самосъзнание?" }
  ],
  "max_tokens": 700,
  "temperature": 0.65,
  "model": "@cf/meta/llama-3.1-8b-instruct"
}
```

## 2. Генериране на изображение

```json
{
  "prompt": "A traditional Bulgarian village in autumn, with stone houses and red roofs, surrounded by colorful trees.",
  "num_images": 1,
  "width": 512,
  "height": 512,
  "model": "@cf/flux-1-schnell"
}
```

> Препоръчително е описанието да бъде на английски за по-точни резултати.

## 3. Анализ на изображение

```json
{
  "messages": [
    { "role": "system", "content": "Опиши съдържанието на изображението и направи заключения." },
    { "role": "user", "content": "data:image/jpeg;base64,..." }
  ],
  "max_tokens": 300,
  "temperature": 0.5,
  "model": "@cf/llama-3.2-11b-vision-instruct"
}
```

## 4. Разпознаване на реч

```json
{
  "audio": "data:audio/wav;base64,...",
  "language": "bg",
  "model": "@cf/openai/whisper-large-v3"
}
```

Входът трябва да бъде аудио файл (WAV/MP3), кодиран в Base64.

## 5. Гласов чат (комбинирана заявка)

1. **Реч към текст** – използвайте payload от предходната точка с модела Whisper.
2. **Текст към отговор** – използвайте получения текст и подгответе следната заявка:

```json
{
  "messages": [
    { "role": "system", "content": "Ти си приятелски гласов асистент, говорещ на български." },
    { "role": "user", "content": "Какво е значението на символа Ин и Ян?" }
  ],
  "max_tokens": 300,
  "temperature": 0.6,
  "model": "@cf/meta/llama-3.1-8b-instruct"
}
```
